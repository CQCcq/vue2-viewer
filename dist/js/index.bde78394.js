(function(e){function t(t){for(var a,r,s=t[0],o=t[1],u=t[2],m=0,f=[];m<s.length;m++)r=s[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);c&&c(t);while(f.length)f.shift()();return n.push.apply(n,u||[]),l()}function l(){for(var e,t=0;t<n.length;t++){for(var l=n[t],a=!0,s=1;s<l.length;s++){var o=l[s];0!==i[o]&&(a=!1)}a&&(n.splice(t--,1),e=r(r.s=l[0]))}return e}var a={},i={index:0},n=[];function r(t){if(a[t])return a[t].exports;var l=a[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=a,r.d=function(e,t,l){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(l,a,function(t){return e[t]}.bind(null,a));return l},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/vue2-viewer/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=o;n.push([0,"chunk-vendors"]),l()})({0:function(e,t,l){e.exports=l("c31f")},"075f":function(e,t,l){},"180f":function(e,t,l){"use strict";var a=l("075f"),i=l.n(a);i.a},"42b1":function(e,t,l){"use strict";var a=l("f381"),i=l.n(a);i.a},"56c8":function(e,t,l){"use strict";var a=l("a6fb"),i=l.n(a);i.a},a6fb:function(e,t,l){},c31f:function(e,t,l){"use strict";l.r(t);l("e260"),l("e6cf"),l("cca6"),l("a79d");var a=l("a026"),i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"app"}},[l("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},n=[],r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"hello"},[l("h1",[e._v(e._s(e.msg))]),l("h2",[e._v("单张图")]),l("vue-viewer",{staticStyle:{display:"inline-block"},attrs:{thumb:e.image,title:"单张图实例",full:e.image}}),l("h2",[e._v("多张图")]),l("vue-viewer",{attrs:{multiple:"",thumb:e.imageList,title:e.multiTitles,"list-ul-class":"image-list",full:e.imageList},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{staticClass:"icon-remove",on:{click:function(l){return l.stopPropagation(),e.onRemove(t.index)}}},[e._v("×")])]}}])})],1)},s=[],o={name:"viewer-demo",data:function(){return{msg:"vue2-viewer-demo",image:"http://fastmock.cn-bj.ufileos.com/fastmock-apis.jpg",imageList:["http://fastmock.cn-bj.ufileos.com/fastmock-apis.jpg","http://fastmock.cn-bj.ufileos.com/fastmock-postman.png","http://fastmock.cn-bj.ufileos.com/fastmock-apis.jpg"],multiTitles:["多图1","多图2"]}},methods:{onRemove:function(e){alert(e)}}},u=o,c=(l("180f"),l("2877")),m=Object(c["a"])(u,r,s,!1,null,null,null),f=m.exports,d={name:"app",components:{HelloWorld:f}},v=d,h=(l("42b1"),Object(c["a"])(v,i,n,!1,null,null,null)),g=h.exports,w=(l("b0c0"),function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("span",[Array.isArray(e.thumb)?[l("ul",{class:e.listUlClass},e._l(e.thumb,(function(t,a){return l("li",{key:a,staticStyle:{position:"relative"}},[l("img",{attrs:{width:"100",height:"80",src:t,alt:""},on:{click:function(t){return e.showFullViewer(a)}}}),e._t("default",null,{index:a})],2)})),0)]:[l("img",{attrs:{width:"100",height:"80",src:e.thumb,alt:""},on:{click:e.showFullViewer}})],l("transition",{attrs:{name:"fade","enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[l("div",{directives:[{name:"show",rawName:"v-show",value:e.fullViewerVisible,expression:"fullViewerVisible"}],staticClass:"viewer-container viewer-backdrop viewer-fixed viewer-fade viewer-transition viewer-in",staticStyle:{"z-index":"2015"},attrs:{"touch-action":"none"}},[l("div",{staticClass:"viewer-canvas",attrs:{"data-viewer-action":"hide"}},[l("img",{ref:"fullImage",staticClass:"viewer-move full-image animate-transform",style:e.fullImageStyle,attrs:{src:Array.isArray(e.full)?e.full[e.listActiveIndex]:e.full,id:"full-image",alt:""},on:{mousewheel:e.toggleZoomFullImage}})]),l("div",{staticClass:"viewer-footer"},[l("div",{staticClass:"viewer-title"},[e._v(" "+e._s(e.multiple?e.title[e.listActiveIndex]||"-":e.title)+" ("+e._s(e.fullImageWidth)+" × "+e._s(e.fullImageHeight)+") ")]),l("div",{staticClass:"viewer-toolbar"},[l("ul",[l("li",{staticClass:"viewer-zoom-in",attrs:{role:"button","data-viewer-action":"zoom-in"},on:{click:e.zoomIn}}),l("li",{staticClass:"viewer-zoom-out",attrs:{role:"button","data-viewer-action":"zoom-out"},on:{click:e.zoomOut}}),l("li",{staticClass:"viewer-one-to-one",attrs:{role:"button","data-viewer-action":"one-to-one"},on:{click:e.resetFullImageSize}}),l("li",{staticClass:"viewer-reset",attrs:{role:"button","data-viewer-action":"reset"},on:{click:e.resetFullImage}}),e.multiple?l("li",{staticClass:"viewer-prev",attrs:{role:"button","data-viewer-action":"prev"},on:{click:e.prev}}):e._e(),e.multiple?l("li",{staticClass:"viewer-play viewer-large",attrs:{role:"button","data-viewer-action":"play"},on:{click:e.fullScreenPlay}}):e._e(),e.multiple?l("li",{staticClass:"viewer-next",attrs:{role:"button","data-viewer-action":"next"},on:{click:e.next}}):e._e(),l("li",{staticClass:"viewer-rotate-left",attrs:{role:"button","data-viewer-action":"rotate-left"},on:{click:e.fullImageRotateLeft}}),l("li",{staticClass:"viewer-rotate-right",attrs:{role:"button","data-viewer-action":"rotate-right"},on:{click:e.fullImageRotateRight}}),l("li",{staticClass:"viewer-flip-horizontal",attrs:{role:"button","data-viewer-action":"flip-horizontal"},on:{click:e.toggleFullImageScaleX}}),l("li",{staticClass:"viewer-flip-vertical",attrs:{role:"button","data-viewer-action":"flip-vertical"},on:{click:e.toggleFullImageScaleY}})])]),l("div",{directives:[{name:"show",rawName:"v-show",value:e.multiple,expression:"multiple"}],staticClass:"viewer-navbar"},[l("ul",{staticClass:"viewer-list viewer-transition",style:e.listStyle},e._l(e.thumb,(function(t,a){return l("li",{key:a,class:{"viewer-active":e.listActiveIndex===a},on:{click:function(t){return e.switchActiveIndex(a)}}},[l("img",{staticStyle:{width:"50px",height:"50px",transform:"translateX(-10px)"},attrs:{src:t,role:"button","data-viewer-action":"view","data-index":"0","data-original-url":"images/tibet-1.jpg",alt:"Cuo Na Lake","data-filled":"true"}})])})),0)])]),l("div",{staticClass:"viewer-tooltip viewer-show viewer-fade viewer-transition"},[e._v(" 1% ")]),l("div",{staticClass:"viewer-button viewer-close",attrs:{role:"button","data-viewer-action":"mix"},on:{click:e.hideFullViewer}}),l("div",{staticClass:"viewer-player"})])])],2)}),p=[],I=(l("99af"),{methods:{fullScreen:function(e){var t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;t?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():e.requestFullscreen&&e.requestFullscreen()||e.mozRequestFullScreen&&e.mozRequestFullScreen()||e.webkitRequestFullscreen&&e.webkitRequestFullscreen()||e.msRequestFullscreen&&e.msRequestFullscreen()},resetFullImageStatus:function(e){var t=this;this.$data.listActiveIndex=e;var l=this.$refs["fullImage"];if(!l)return!1;l.style.display="none",setTimeout((function(){var e=t.getImgNaturalStyle(l);t.$data.fullImageWidth=e[0],t.$data.fullImageHeight=e[1],l.style.display=""}),300)},showFullViewer:function(e){this.$data.fullViewerVisible=!0,this.resetFullImageStatus(e)},switchActiveIndex:function(e){this.resetFullImageStatus(e)},hideFullViewer:function(){this.$data.fullViewerVisible=!1},zoomIn:function(){this.$data.fullViewZoom+=.1},zoomOut:function(){this.$data.fullViewZoom-=.1},toggleZoomFullImage:function(e){this.$data.animateTimer&&(clearTimeout(this.$data.animateTimer),this.$data.animateTimer=null),e.target.classList.remove("animate-transform");var t=e.wheelDelta/12;t>0?this.$data.fullViewZoom+=.1:this.$data.fullViewZoom>1&&(this.$data.fullViewZoom-=.1),this.$data.animateTimer=setTimeout((function(){e.target.classList.add("animate-transform")}),400)},resetFullImageSize:function(){this.$data.fullViewZoom=1},getImgNaturalStyle:function(e,t){var l,a;if(e.naturalWidth)l=e.naturalWidth,a=e.naturalHeight;else{var i=new Image;i.src=e.src,i.onload=function(){t(i.width,i.height)}}return[l,a]},mouseMove:function(e){e.preventDefault(),this.$data.fullImageMoveX+=e.movementX,this.$data.fullImageMoveY+=e.movementY},resetFullImage:function(){this.$data.fullViewZoom=1,this.$data.fullImageMoveX=0,this.$data.fullImageMoveY=0,this.$data.fullImageMoveX=0,this.$data.fullImageMoveY=0,this.$data.fullImageRotateX=0,this.$data.fullImageScaleX=0,this.$data.fullImageScaleY=0},fullImageRotateLeft:function(){this.$data.fullImageRotateX-=90},fullImageRotateRight:function(){this.$data.fullImageRotateX+=90},toggleFullImageScaleX:function(){this.$data.fullImageScaleX=0===this.$data.fullImageScaleX?-1:0},toggleFullImageScaleY:function(){this.$data.fullImageScaleY=0===this.$data.fullImageScaleY?-1:0},prev:function(){this.$data.listActiveIndex>=1&&(this.resetFullImage(),this.switchActiveIndex(this.$data.listActiveIndex-1))},next:function(){this.$data.listActiveIndex<this.thumb.length-1&&(this.resetFullImage(),this.switchActiveIndex(this.$data.listActiveIndex+1))},handleFullScreenChange:function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;!e&&this.$data.fullPlayTimer&&(clearInterval(this.$data.fullPlayTimer),this.$data.fullPlayTimer=null)},addFullScreenListener:function(){var e=this;document.addEventListener("fullscreenchange",(function(){e.handleFullScreenChange()})),document.addEventListener("mozfullscreenchange",(function(){e.handleFullScreenChange()})),document.addEventListener("webkitfullscreenchange",(function(){e.handleFullScreenChange()})),document.addEventListener("msfullscreenchange",(function(){e.handleFullScreenChange()}))},fullScreenPlay:function(){var e=this;this.fullScreen(this.$el.querySelector(".full-image")),this.$data.fullPlayTimer=setInterval((function(){var t=e.$data.listActiveIndex;t>=e.thumb.length-1?e.$data.listActiveIndex=0:e.$data.listActiveIndex=t+1,e.switchActiveIndex(e.$data.listActiveIndex)}),2e3)}}});l("90b6");var b={name:"vue-viewer",mixins:[I],data:function(){return{animateTimer:null,fullPlayTimer:null,fullViewerVisible:!1,fullViewZoom:1,fullImageWidth:0,fullImageHeight:0,fullImageMoveX:0,fullImageMoveY:0,fullImageRotateX:0,fullImageRotateY:0,fullImageScaleX:0,fullImageScaleY:0,listActiveIndex:0}},props:{thumb:{required:!0},full:{required:!1},multiple:{type:Boolean,default:!1},listUlClass:{type:String,required:!1},title:{required:!1,default:"-"}},computed:{fullImageMarginLeft:function(){return 0-this.$data.fullImageWidth/2+this.$data.fullImageMoveX},fullImageMarginTop:function(){return 0-this.$data.fullImageHeight/2-87+this.$data.fullImageMoveY},fullImageStyle:function(){return{transform:"scale(".concat(this.$data.fullViewZoom,") rotate(").concat(this.$data.fullImageRotateX,"deg) ").concat(0===this.$data.fullImageScaleX?"":"scaleX(-1)"," ").concat(0===this.$data.fullImageScaleY?"":"scaleY(-1)"),width:this.$data.fullImageWidth+"px",height:this.$data.fullImageHeight+"px","margin-left":this.fullImageMarginLeft+"px","margin-top":this.fullImageMarginTop+"px",position:"absolute",left:"50%",top:"50%"}},listStyle:function(){return{width:Array.isArray(this.thumb)?31*this.thumb.length+"px":0,marginLeft:document.body.clientWidth/2-31*(this.$data.listActiveIndex+1)+"px"}}},methods:{},mounted:function(){var e=this;this.resetFullImage(),this.addFullScreenListener(),this.$refs["fullImage"].addEventListener("mousedown",(function(){document.body.addEventListener("mousemove",e.mouseMove)})),this.$refs["fullImage"].addEventListener("mouseup",(function(){document.body.removeEventListener("mousemove",e.mouseMove)}))}},$=b,y=(l("56c8"),Object(c["a"])($,w,p,!1,null,"3f4464f1",null)),S=y.exports,x={install:function(e){e.component(S.name,S)}},F=x.install;a["a"].config.productionTip=!1,a["a"].use(F),new a["a"]({render:function(e){return e(g)}}).$mount("#app")},f381:function(e,t,l){}});
//# sourceMappingURL=index.bde78394.js.map